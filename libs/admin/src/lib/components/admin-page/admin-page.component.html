<mat-progress-bar *rxIf="isLoading$" mode="indeterminate" class="loading-bar" />
<asset-sg-page-header (backNavigation)="navigateBack()">
  @if (isWorkgroupDetailPage && workgroup) {
    <h2>{{ workgroup.name }}</h2>
    <asset-sg-chip type="secondary"><span translate>workgroup.title</span></asset-sg-chip>
    <div style="flex: 1"></div>
    <button
      asset-sg-secondary
      (click)="deleteWorkgroup(workgroup.id)"
      [disabled]="workgroup.numberOfAssets > 0"
      [matTooltip]="
        workgroup.numberOfAssets > 0
          ? ('admin.workgroupPage.unableToDelete' | translate)
          : ('admin.workgroupPage.delete' | translate)
      "
      matTooltipPosition="left"
      translate
    >
      admin.workgroupPage.delete
      <svg-icon key="delete"></svg-icon>
    </button>
    <asset-sg-toggle-status
      [isActive]="!workgroup.disabledAt"
      (toggleIsActive)="toggleActiveStatus(workgroup)"
    ></asset-sg-toggle-status>
  } @else if (isUsersPage && user) {
    <h2>{{ user.email }}</h2>
    <asset-sg-chip type="secondary"><span translate>admin.user</span></asset-sg-chip>
  } @else {
    <h2 translate="">menuBar.settings</h2>
  }
</asset-sg-page-header>
<div class="main">
  @if (workgroup && workgroup.disabledAt) {
    <div class="inactive-overlay"></div>
  }
  @if (!isDetailPage) {
    <div class="navigation-container">
      <asset-sg-tabs>
        <a asset-sg-tab routerLink="users" translate> admin.users </a>
        <a asset-sg-tab routerLink="workgroups" translate> admin.workgroups </a>
      </asset-sg-tabs>
      @if (isWorkgroupPage) {
        <button asset-sg-primary [routerLink]="['workgroups', 'new']" translate>
          admin.workgroupPage.create
          <svg-icon key="add"></svg-icon>
        </button>
      }
    </div>
    <div class="content">
      <router-outlet></router-outlet>
    </div>
  } @else {
    <div>
      <router-outlet></router-outlet>
    </div>
  }
</div>
