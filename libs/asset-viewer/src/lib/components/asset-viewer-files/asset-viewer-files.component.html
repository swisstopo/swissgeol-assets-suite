<div class="file" *rxFor="let assetFile of this.files()">
  <div class="file__info">
    <div class="file__info__metadata">
      <sgc-icon name="file"></sgc-icon>
      <span class="file__info__file-name">{{ assetFile | fileName }}</span>
      @if (locale$ | async; as locale) {
        <asset-sg-asset-viewer-files-tag>{{ assetFile | fileSize: locale }}</asset-sg-asset-viewer-files-tag>
      }
    </div>
    <div class="file__info__actions">
      @if (assetFile.name.endsWith(".pdf")) {
        <sgc-button
          [title]="'search.openPdf' | translate: { fileName: assetFile | fileName }"
          (click)="openPdf(assetFile)"
        >
          <sgc-icon name="view"></sgc-icon>
        </sgc-button>
      } @else {
        <sgc-button
          [title]="'search.openFileInNewTab' | translate: { fileName: assetFile | fileName }"
          (click)="downloadFile(assetFile, 'open-in-tab')"
        >
          <sgc-icon name="openLink"></sgc-icon>
        </sgc-button>
      }
      <sgc-button
        [title]="'search.downloadFile' | translate: { fileName: assetFile | fileName }"
        (click)="downloadFile(assetFile, 'save-file')"
      >
        <sgc-icon name="download"></sgc-icon>
      </sgc-button>
    </div>
  </div>

  @if (assetFile.pageRangeClassifications) {
    <hr class="divider" />
    <asset-sg-asset-viewer-files-content
      [pageRangeClassifications]="assetFile.pageRangeClassifications"
      [pageCount]="assetFile.pageCount"
      [legalDocCode]="assetFile.legalDocCode"
      (openOnPage)="this.openPdf(assetFile, $event)"
    ></asset-sg-asset-viewer-files-content>
  } @else if (assetFile.pageCount || assetFile.legalDocCode) {
    <asset-sg-asset-viewer-files-content-summary
      [pageCount]="assetFile.pageCount"
      [legalDocCode]="assetFile.legalDocCode"
    ></asset-sg-asset-viewer-files-content-summary>
  }
</div>
