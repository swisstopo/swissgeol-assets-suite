<h2 translate>workflow.status</h2>

<ul>
  <li asset-sg-editor-status-step [workflow]="workflow" [status]="WorkflowStatus.Draft"></li>
  <div class="connector" aria-hidden="true"></div>
  <li asset-sg-editor-status-step [workflow]="workflow" [status]="WorkflowStatus.InReview"></li>
  <div class="connector" aria-hidden="true"></div>
  <li asset-sg-editor-status-step [workflow]="workflow" [status]="WorkflowStatus.Reviewed"></li>
</ul>

<div class="actions">
  @if (workflow.status !== WorkflowStatus.Draft) {
    @if (canUpdate$ | async) {
      <button asset-sg-secondary>
        {{ "edit.tabs.status.changeStatus" | translate }}
        <svg-icon key="edit" />
      </button>
      <button asset-sg-secondary>
        {{ "edit.tabs.status.requestChanges" | translate }}
        <svg-icon key="check" />
      </button>
    }
  }

  @switch (workflow.status) {
    @case (WorkflowStatus.Draft) {
      <button asset-sg-primary>
        {{ "edit.tabs.status.requestReview" | translate }}
        <svg-icon key="chevron-right" />
      </button>
    }
    @case (WorkflowStatus.InReview) {
      <button asset-sg-primary>
        {{ "edit.tabs.status.finishReview" | translate }}
        <svg-icon key="chevron-right" />
      </button>
    }
  }
</div>
